[MODEL]
batch_size        = 40
random_seed       = 42
loss_function     = "HuberLoss"
loss_weights      = 1
activations       = "Identity"
precision         = 32
backbone          = "resunet" # "simpleCNN"  # "efficientnet"densenet121#resnet10#totalsegmentator#simpleCNN
backbone_folder   = "/home/dgs1/Software/Miguel/OutcomePrediction/TotalSegmentatorBackbone"
w_init            = 'xavier'  # ['kaiming', 'xavier']  # uniform
pretrained        = false
backbone_fixed    = false
dropout_prob      = 0.2  #0.2 #dropout
inference         = true
learning_rate     = 3e-3  #3e-3 3e-4
lr_scheduler      = 'StepLR'  # 'CosineAnnealingLR'  # 'StepLR'
lr_params         = "{'step_size': 150, 'gamma': 0.7}"  # "{'T_max': self.config['RUN']['max_epochs'], 'eta_min': 5e-4}"  # "{'step_size': 150, 'gamma': 0.7}"
lr_warmup_epochs  = 0
modes             = 'regression'  #['regression', 'regression', 'regression']
optimizer         = 'Adam' # 'RAdam' # 'Adam' # 'SGD' 'AdamW'

[MODEL_PARAMETERS]
spatial_dims  = 3

[Dose_MODEL_PARAMETERS]
in_channels = 1
wf          = 3
depth       = 3

[MODALITY]
CT          = 1
RTDOSE	    = 0
PET         = 0
RTSTRUCT    = 0

[RECORDS]
records     = 0

[DATA]
format                  = "nii.gz"
data_folder             = "/home/dgs1/data/Nifty_Data"
log_folder              = "/home/dgs1/Software/Miguel/OutcomePrediction/Logs/Reconstruction/ResUnet/HubberLoss"
clinical_table_path     = "/home/dgs1/Software/Miguel/RTOG+LUNG1+UCLH_w_ai_target_volume_plus_dosimetric_cropped.csv"
model_name              = "CTReconstruction"
data_structure          = "rtog"
CT_path                 = ''
RTDOSE_path             = ''
RTSTRUCT_path           = 'struct_TS/'
n_per_sample            = 5000
n_classes               = 1
n_channel               = 1
sub_patch_size          = 16
dim                     = [160, 160, 32]
train_size              = 0.7
val_size                = 0.3
reconstruction_target   = ["RTDOSE"]
target                  = "IntervalStartRTDateLastFU"  # legacy, not in use
additional_targets      = []  # legacy, not in use
censored_as_nan         = false  # legacy, not in use
exclude_event_nan       = false  # legacy, not in use
include_censored        = true  # legacy, not in use
multichannel            = true  # legacy, not in use
subject_label           = "PatientID"
structs                 = 'AI_target'
patient_ids_file_path   = "SubjectListRTOG0617_UCLHWithAITarget.csv"
clinical_cols           = []
categorical_cols        = []
imputation              = 'mice'
impute_addit_target     = false

[RUN]
random_state            = 0
random_state_dataloader = 0
bootstrap_n             = 1
cross_validation        = true
cv_k                    = 5
cv_fold                 = 3
max_epochs              = 1000
devices                 = [3]
run_additional_info     = ''
train_fraction          = 1.0 # 0.5 # 1.0

